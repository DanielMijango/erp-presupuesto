{% extends 'base.html' %}

{% block content %}
<style>
    body {
        font-family: Arial, sans-serif;
        background-color: #355883;
        margin: 0;
        padding: 0;
        display: flex;
        justify-content: center;
        align-items: center;
        height: 100vh;
        position: relative; /* Asegura que los elementos posicionados absolutamente sean relativos al body */
    }

    /* Estilos para los cuadrados de fondo */
    .square {
        position: absolute;
        opacity: 0.7; /* Para que los cuadrados no bloqueen completamente el fondo */
        z-index: 0; /* Asegura que los cuadrados estén detrás del contenido */
        transform: translate(-50%, -50%); /* Centra los cuadrados */
    }

    .square1 {
        background-color: #2e6882; 
        top: 50%;
        left: 50%;
        width: 90vw;
        height: 100vh;
    }

    .square2 {
        background-color: #388285; 
        top: 50%;
        left: 50%;
        width: 70vw;
        height: 100vh;
    }

    /* Estilos para el contenedor principal */
    .table-container {
        background-color: #fff;
        padding: 20px;
        border-radius: 8px;
        box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
        width: 100%;
        max-width: 800px;
        text-align: center;
        z-index: 1; /* Asegura que el contenedor esté por encima de los cuadrados */
        position: relative; /* Asegura que el z-index funcione */
    }
    
    /* Estilos para el título */
    h1 {
        font-family: Arial, sans-serif;
        color: #000000;
        margin-bottom: 20px;
    }

    /* Estilos para la tabla */
    table {
        border-collapse: collapse;
        width: 100%;
        margin-top: 10px;
        background-color: #f8f8f8;
    }

    th, td {
        border: 1px solid #ccc;
        padding: 10px;
        text-align: left;
        font-family: Arial, sans-serif;
    }

    /* Estilos para los encabezados de la tabla */
    th {
        background-color: #512985;
        color: #fff;
        font-weight: bold;
        padding: 10px;
    }

    /* Estilos para los botones de acción */
    .btn {
        padding: 5px 10px;
        color: #fff;
        border: none;
        border-radius: 4px;
        cursor: pointer;
    }

    .btn-edit {
        background-color: #4CAF50;
    }

    .btn-delete {
        background-color: #f44336;
    }

    .btn-edit:hover {
        background-color: #45a049;
    }

    .btn-delete:hover {
        background-color: #e53935;
    }
</style>

<!-- Contenedor principal -->
<div class="background-container">
    <!-- Cuadrados de fondo -->
    <div class="square square1"></div>
    <div class="square square2"></div>
   
    <div class="table-container">
        <!-- Encabezado de la lista -->
        <h1>Lista de Presupuestos del Centro Comercial</h1>
        <!-- Tabla de presupuestos -->
        <table>
            <thead>
                <tr>
                    <th>Nombre</th>
                    <th>Fecha de Inicio</th>
                    <th>Descripción</th>
                    <th>Fecha Límite</th>
                    {% if user.is_authenticated %}
                    <th>Acciones</th>
                    {% endif %}
                </tr>
            </thead>
            <tbody>
                {% for p in presupuestos %}
                <tr>
                    
                    <td>{{ p.nombre }}</td>
                    <td>{{ p.fecha_inicio }}</td>
                    <td>{{ p.descripcion }}</td>
                    <td>{{ p.fecha_limite }}</td>
                    
                    {% if user.is_authenticated %}
                    <td>
                        <a href="/editarPresupuesto/{{ p.id }}/" class="btn btn-edit">Editar</a>
                        <form action="/eliminarPresupuesto/{{ p.id }}/" method="post" style="display:inline;">
                            {% csrf_token %}
                            <button type="submit" class="btn btn-delete" >Eliminar</button>
                        </form>
                    </td>
                    {% endif %}
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
</div>
{% endblock %}


